#### Config ####

config defaultToCurrentScreen true

#### Aliases ####
alias screen-size screenSizeX;screenSizeY
alias ox screenOriginX
alias oy screenOriginY
alias ssx screenSizeX
alias ssy screenSizeY
alias rightx ${ox}+${ssx}
alias bottomy ${oy}+${ssy}
alias halfx ${ssx}/2
alias halfy ${ssy}/2
alias middlex ${ox}+${halfx}
alias middley ${oy}+${halfy}
alias origin ${ox};${oy}

alias left-screen 1
alias middle-screen 0
alias right-screen 2

alias left-half move ${origin} ${halfx};${ssy}
alias right-half move ${middlex};${oy} ${halfx};${ssy}
alias bottom-half move ${ox};${middley} ${ssx};${halfy}
alias top-half move ${origin} ${ssx};${halfy}

alias move-with-truncate move screenOriginX;screenOriginY min({screenSizeX,windowSizeX});min({screenSizeY,windowSizeY})
alias move-left-screen ${move-with-truncate} ${left-screen}
alias move-middle-screen ${move-with-truncate} ${middle-screen}
alias move-right-screen ${move-with-truncate} ${right-screen}

alias current-dims windowSizeX;windowSizeY
alias center-both move screenOriginX+(screenSizeX-windowSizeX)/2;screenOriginY+(screenSizeY-windowSizeY)/2 ${current-dims}
alias center-horizontal move screenOriginX+(screenSizeX-windowSizeX)/2;windowTopLeftY ${current-dims}
alias center-vertical move windowTopLeftX;screenOriginY+(screenSizeY-windowSizeY)/2 ${current-dims}

alias fullscreen move ${origin} ${screen-size}

# Nice center and resize that works on all my screens/orientations: space
alias nice-center move screenOriginX+(screenSizeX-max({1000,2*screenSizeX/3}))/2;screenOriginY+(screenSizeY-min({1000,2*screenSizeY/3}))/2 max({1000,2*screenSizeX/3});min({1000,2*screenSizeY/3})

alias expand-right move windowTopLeftX;windowTopLeftY screenSizeX-windowTopLeftX+screenOriginX;windowSizeY
alias expand-left move screenOriginX;windowTopLeftY windowSizeX+windowTopLeftX-screenOriginX;windowSizeY
alias expand-up move windowTopLeftX;screenOriginY windowSizeX;windowSizeY+windowTopLeftY-screenOriginY
alias expand-down move windowTopLeftX;windowTopLeftY windowSizeX;screenSizeY-windowTopLeftY+screenOriginY

#### Application-specific default positions ####

alias adium-pos-1 move screenOriginX;screenOriginY+screenSizeY/3 screenSizeX/3;2*screenSizeY/3 ${left-screen} | move ${origin} screenSizeX/3;screenSizeY/3 ${left-screen}
alias yammer-pos-1 move screenOriginX+screenSizeX/3;screenOriginY screenSizeX/3;2*screenSizeY/3 ${left-screen}
alias iterm-pos-1 ${bottom-half} ${right-screen}
alias chrome-pos-1 ${top-half} ${right-screen}
alias safari-pos-1 move screenOriginX+screenSizeX/3;screenOriginY 2*screenSizeX/3;screenSizeY ${middle-screen}
alias macvim-pos-1 ${fullscreen} ${middle-screen}

#### Layouts ####

# 3-screen default
layout 3-screen 'Adium':IGNORE_FAIL move screenOriginX;screenOriginY+screenSizeY/3 screenSizeX/3;2*screenSizeY/3 ${left-screen} | move ${origin} screenSizeX/3;screenSizeY/3 ${left-screen}
layout 3-screen 'Yammer' ${yammer-pos-1}
layout 3-screen 'iTerm' ${iterm-pos-1}
layout 3-screen 'Google Chrome' ${chrome-pos-1}
layout 3-screen 'Safari' ${safari-pos-1}
layout 3-screen 'MacVim':REPEAT ${macvim-pos-1}

#### Bindings ####

bind h:ctrl;cmd ${left-half}
bind l:ctrl;cmd ${right-half}
bind k:ctrl;cmd ${top-half}
bind j:ctrl;cmd ${bottom-half}

bind 8:ctrl;cmd ${move-left-screen}
bind 9:ctrl;cmd ${move-middle-screen}
bind 0:ctrl;cmd ${move-right-screen}

bind p:ctrl;cmd ${center-both}
bind {:ctrl;cmd ${center-horizontal}
bind }:ctrl;cmd ${center-vertical}

bind space:ctrl;cmd ${nice-center}
bind return:ctrl;cmd ${fullscreen}

bind pad7:ctrl;cmd corner top-left
bind pad8:ctrl;cmd push   top center
bind pad9:ctrl;cmd corner top-right
bind pad4:ctrl;cmd push   left center
bind pad5:ctrl;cmd ${center-both}
bind pad6:ctrl;cmd push   right center
bind pad1:ctrl;cmd corner bottom-left
bind pad2:ctrl;cmd push   bottom center
bind pad3:ctrl;cmd corner bottom-right

# Move with ctrl-arrow
bind left:ctrl  nudge -100  +0
bind up:ctrl    nudge +0    -100
bind right:ctrl nudge +100  +0
bind down:ctrl  nudge +0    +100

# Expand in a direction with arrows
bind left:ctrl;cmd ${expand-left}
bind right:ctrl;cmd ${expand-right}
bind up:ctrl;cmd ${expand-up}
bind down:ctrl;cmd ${expand-down}

# Layouts
bind 3:ctrl;cmd layout 3-screen
