# Set prefix to ctrl-a
unbind C-b
set -g prefix C-a
bind C-a send-prefix

set-option -g default-shell /bin/zsh

set -g renumber-windows on

# Show activity in background windows
setw -g monitor-activity on

# Colors
set -g default-terminal "screen-256color"

# Replace italic control chars with reverse video
# Not sure why this is needed or why the xterm type is involved...
set -g terminal-overrides 'xterm*:sitm@,ritm@'

# A lot of history
set -g history-limit 1000000

# Try to avoid getting unresponsive when there's a lot of output
set -g c0-change-trigger 10
set -g c0-change-interval 100

# Vi mode set -g status-keys vi
setw -g mode-keys vi
bind -t vi-copy 'v' begin-selection

# More vi mode commands for pane and window navigation. Bind both * and C-* shortcuts, so I don't have to make
# sure to remove my finger from ctrl before pressing the key.
bind C-h select-pane -L
bind h select-pane -L
bind C-j select-pane -D
bind j select-pane -D
bind C-k select-pane -U
bind k select-pane -U
bind C-l select-pane -R
bind l select-pane -R

# Select last window
bind C-Space last-window

# More easily enter copy mode by hitting prefix twice
bind C-a copy-mode

# An easier way to make a vertical split (my preferred)
bind v split-window -h

# Change the active color to blue (instead of green)
set-option -g pane-active-border-fg blue

# Don't have to delete the current window name before renaming
bind , command-prompt -p "rename window:" "rename-window '%%'"

# Window ordering is kinda lame in tmux. This seems to be the best option.
bind Left swap-window -t -1
bind Right swap-window -t +1

# Title config
set -g set-titles on
set -g set-titles-string '#H | #W'

### Status bar configuration

set -g status-position top # Put the status line at the top
set -g status on
set -g status-utf8 on
set -g status-bg colour236
set -g status-fg colour251
set-window-option -g window-status-separator ''

set-window-option -g window-status-current-format '#[fg=colour237,bg=colour31,nobold,nounderscore,noitalics]#[fg=colour254,bg=colour31,bold] #I #W #[fg=colour31,bg=colour236,nobold,nounderscore,noitalics]'
set-window-option -g window-status-format '  #I #[fg=colour255,bg=colour236]#W  '
set -g status-left '#[fg=colour237,bg=colour254,bold] #S #[fg=colour254,bg=colour237,nobold,nounderscore,noitalics]'
